$(document).ready(function(){function t(t){$(".treemenu li").removeClass("focus"),$(t).addClass("focus"),$($(t).find("li")[0]).addClass("focus"),$(t).parent().parent().addClass("focus")}function o(t){this.editor=CodeMirror.fromTextArea(document.getElementById("editor-textarea"),{lineNumbers:!0,mode:"javascript",theme:"mbo",styleActiveLine:!0,matchBrackets:!0}),this.sandbox=document.getElementById("sandbox"),this.container=document.getElementById(t)}var e=[];if($(".treemenu li").each(function(){var t=$(this),o=t.children("a").attr("href");$(o).length>0&&(t.data("scroll-top",$(o).position().top+75),e.push(t))}),e.sort(function(t,o){return t.data("scroll-top")-o.data("scroll-top")}),window.links=e,$(document).scroll(function(){for(var o=$(document).scrollTop(),n=0;n<e.length;n++)if(e[n].data("scroll-top")>o){t(e[n]);break}}),o.prototype.setCode=function(t){this.editor.setValue(t)},o.prototype.clearCode=function(){this.editor.setValue("")},o.prototype.show=function(){$(this.container).addClass("active")},o.prototype.hide=function(){$(this.container).removeClass("active"),this.stop()},o.prototype.runCode=function(){var t=this.editor.getValue();this.sandbox.contentWindow.location.reload(),this.sandbox.onload=function(){sandbox.contentWindow.postMessage({fn:"exec",code:t},"*"),sandbox.contentWindow.document.getElementsByTagName("canvas")[0].focus()}},o.prototype.stop=function(){this.sandbox.contentWindow.postMessage({fn:"stop"},"*")},$("#editor").length>0){var n=new o("editor");$(".popup-content").click(function(t){t.stopPropagation()}),$(".js-start").click(function(){n.runCode()}),$(".js-stop").click(function(){n.stop()}),$(".js-close").click(function(){n.hide(),stop()}),$(".js-example-code").click(function(){n.clearCode(),n.show();var t=$(this).attr("code-path");$.ajax({url:t,dataType:"text",success:function(t){n.setCode(t)}}).done(function(){n.runCode()})})}$(".homepage").length>0&&$(".js-example-code").click(),$(".document").length,$(".examples").length;var s=location.pathname.split("/");"docs.html"==s[s.length-1]&&($(".header").css("position","absolute"),$("#search, #search_btn").show(),$("#search").on("keypress",function(t){13==t.keyCode&&search($(this).val())}),$("#search_btn").click(function(t){search($("#search").val())}),$("#open_side").click(function(){$(".treemenu").css({width:"200px",display:"block"})})),$("#top").click(function(){$("body").animate({scrollTop:0},"500")}),$(window).scroll(function(){0!=$("body").prop("scrollTop")?$("#top").fadeIn(200):$("#top").fadeOut(200)})});